(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[649],{2795:function(e,a,l){Promise.resolve().then(l.bind(l,7370))},4940:function(e,a,l){"use strict";var t=l(7437);l(2265),a.Z=()=>(0,t.jsx)("div",{className:"loader"})},7370:function(e,a,l){"use strict";l.r(a),l.d(a,{default:function(){return T}});var t=l(7437),i=l(2265),n=l(4940),r=l(6019),o=l(5349),s=l(2307),c=l(4376),d=l(3950),u=l(2988),p=l(4839),h=l(6259),m=l(674),x=l(2272),g=l(5786),b=l(5635),f=l(4990),v=l(9281),Z=l(8024),w=l(4535),j=l(7542);function y(e){return(0,j.ZP)("MuiDialog",e)}let k=(0,w.Z)("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),S=i.createContext({});var C=l(4593),N=l(2960);let W=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],P=(0,Z.ZP)(C.Z,{name:"MuiDialog",slot:"Backdrop",overrides:(e,a)=>a.backdrop})({zIndex:-1}),D=e=>{let{classes:a,scroll:l,maxWidth:t,fullWidth:i,fullScreen:n}=e,r={root:["root"],container:["container","scroll".concat((0,x.Z)(l))],paper:["paper","paperScroll".concat((0,x.Z)(l)),"paperWidth".concat((0,x.Z)(String(t))),i&&"paperFullWidth",n&&"paperFullScreen"]};return(0,h.Z)(r,y,a)},F=(0,Z.ZP)(g.Z,{name:"MuiDialog",slot:"Root",overridesResolver:(e,a)=>a.root})({"@media print":{position:"absolute !important"}}),B=(0,Z.ZP)("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,a)=>{let{ownerState:l}=e;return[a.container,a["scroll".concat((0,x.Z)(l.scroll))]]}})(e=>{let{ownerState:a}=e;return(0,u.Z)({height:"100%","@media print":{height:"auto"},outline:0},"paper"===a.scroll&&{display:"flex",justifyContent:"center",alignItems:"center"},"body"===a.scroll&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})}),M=(0,Z.ZP)(f.Z,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,a)=>{let{ownerState:l}=e;return[a.paper,a["scrollPaper".concat((0,x.Z)(l.scroll))],a["paperWidth".concat((0,x.Z)(String(l.maxWidth)))],l.fullWidth&&a.paperFullWidth,l.fullScreen&&a.paperFullScreen]}})(e=>{let{theme:a,ownerState:l}=e;return(0,u.Z)({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},"paper"===l.scroll&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},"body"===l.scroll&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!l.maxWidth&&{maxWidth:"calc(100% - 64px)"},"xs"===l.maxWidth&&{maxWidth:"px"===a.breakpoints.unit?Math.max(a.breakpoints.values.xs,444):"max(".concat(a.breakpoints.values.xs).concat(a.breakpoints.unit,", 444px)"),["&.".concat(k.paperScrollBody)]:{[a.breakpoints.down(Math.max(a.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}},l.maxWidth&&"xs"!==l.maxWidth&&{maxWidth:"".concat(a.breakpoints.values[l.maxWidth]).concat(a.breakpoints.unit),["&.".concat(k.paperScrollBody)]:{[a.breakpoints.down(a.breakpoints.values[l.maxWidth]+64)]:{maxWidth:"calc(100% - 64px)"}}},l.fullWidth&&{width:"calc(100% - 64px)"},l.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,["&.".concat(k.paperScrollBody)]:{margin:0,maxWidth:"100%"}})}),O=i.forwardRef(function(e,a){let l=(0,v.Z)({props:e,name:"MuiDialog"}),n=(0,N.Z)(),r={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{"aria-describedby":o,"aria-labelledby":s,BackdropComponent:c,BackdropProps:h,children:x,className:g,disableEscapeKeyDown:Z=!1,fullScreen:w=!1,fullWidth:j=!1,maxWidth:y="sm",onBackdropClick:k,onClick:C,onClose:O,open:R,PaperComponent:E=f.Z,PaperProps:T={},scroll:A="paper",TransitionComponent:_=b.Z,transitionDuration:z=r,TransitionProps:H}=l,I=(0,d.Z)(l,W),V=(0,u.Z)({},l,{disableEscapeKeyDown:Z,fullScreen:w,fullWidth:j,maxWidth:y,scroll:A}),X=D(V),Y=i.useRef(),J=(0,m.Z)(s),K=i.useMemo(()=>({titleId:J}),[J]);return(0,t.jsx)(F,(0,u.Z)({className:(0,p.Z)(X.root,g),closeAfterTransition:!0,components:{Backdrop:P},componentsProps:{backdrop:(0,u.Z)({transitionDuration:z,as:c},h)},disableEscapeKeyDown:Z,onClose:O,open:R,ref:a,onClick:e=>{C&&C(e),Y.current&&(Y.current=null,k&&k(e),O&&O(e,"backdropClick"))},ownerState:V},I,{children:(0,t.jsx)(_,(0,u.Z)({appear:!0,in:R,timeout:z,role:"presentation"},H,{children:(0,t.jsx)(B,{className:(0,p.Z)(X.container),onMouseDown:e=>{Y.current=e.target===e.currentTarget},ownerState:V,children:(0,t.jsx)(M,(0,u.Z)({as:E,elevation:24,role:"dialog","aria-describedby":o,"aria-labelledby":J},T,{className:(0,p.Z)(X.paper,T.className),ownerState:V,children:(0,t.jsx)(S.Provider,{value:K,children:x})}))})}))}))});var R=l(1326),E=l(1942),T=()=>{let[e,a]=(0,i.useState)(!1),[l,d]=(0,i.useState)(!1),[u,p]=(0,i.useState)([]),[h,m]=(0,i.useState)({title:"",subtitle:"",content:"",subheading1:"",subheading2:"",subheading3:"",subheading4:"",subheading5:"",subcontent1:"",subcontent2:"",subcontent3:"",subcontent4:"",subcontent5:""}),[x,g]=(0,i.useState)({image1:null,image2:null,image3:null,image4:null,image5:null,image6:null}),[b,f]=(0,i.useState)({image1:null,image2:null,image3:null,image4:null,image5:null,image6:null}),[v,Z]=(0,i.useState)({numberOfField:0}),w=(e,a)=>{let l=e.target.files[0];g({...x,["image".concat(a+1)]:l});let t=new FileReader;t.onload=e=>{e.target&&"string"==typeof e.target.result&&f({...b,["image".concat(a+1)]:e.target.result})},t.readAsDataURL(l)},j=e=>{let{name:a,value:l}=e.target;m({...h,[a]:l})},y=async()=>{let l=new FormData;Object.entries(h).forEach(e=>{let[a,t]=e;l.append(a,t)}),Object.entries(x).forEach(e=>{let[a,t]=e;l.append(a,t)}),l.append("keyhead",v.keyhead),l.append("valuehead",v.valuehead);let t=v.fields.map(e=>e.key),i=v.fields.map(e=>e.value);l.append("fields[keys]",JSON.stringify(t)),l.append("fields[values]",JSON.stringify(i));try{if(e)return;a(!0);let t=await fetch("/api/blog/postBlog",{method:"POST",body:l});a(!1),t.ok?alert("Blog post successful"):alert("Failed to post blog")}catch(e){console.error("Error posting blog:",e)}},k=(e,a)=>{let l={...h};l["subheading".concat(e+1)]=a,m(l)},S=(e,a)=>{let l={...h};l["subcontent".concat(e+1)]=a,m(l)};return(0,t.jsxs)("div",{className:"w-screen mt-20 h-screen",children:[(0,t.jsx)(A,{open:l,setTableRow:e=>Z({...v,numberOfField:e}),handleClose:()=>d(!1)}),(0,t.jsx)("h1",{className:"text-3xl",children:"Post blog"}),(0,t.jsx)("div",{className:" flex flex-col items-center",children:(0,t.jsxs)("div",{className:"w-[80vw] pb-10 items-center mt-5 flex flex-col gap-5",children:[(0,t.jsx)(r.Z,{anchorOrigin:{vertical:"top",horizontal:"left"},sx:{"& .MuiBadge-badge":{fontSize:"1.3rem",padding:1.5}},color:"primary",badgeContent:"Title",children:(0,t.jsxs)("div",{className:"flex w-[80vw] items-center gap-2 border rounded-lg bg-white p-4",children:[(0,t.jsx)(o.Z,{src:b.image6,sx:{width:100,height:100},children:(0,t.jsx)("input",{className:"h-full w-full opacity-0",onChange:e=>w(e,5),type:"file",name:"",id:""})}),(0,t.jsxs)("div",{className:"w-full flex flex-col gap-2",children:[(0,t.jsxs)("div",{className:" flex w-full gap-2",children:[(0,t.jsx)(s.Z,{className:"w-full",id:"outlined-basic",name:"title",onChange:j,label:"Title",variant:"outlined"}),(0,t.jsx)(s.Z,{className:"w-full",id:"outlined-basic",name:"subtitle",onChange:j,label:"Subtitle",variant:"outlined"})]}),(0,t.jsx)(s.Z,{id:"outlined-basic",multiline:!0,name:"content",onChange:j,label:"Discription",variant:"outlined"})]})]})}),u&&u.map((e,a)=>(0,t.jsx)(r.Z,{anchorOrigin:{vertical:"top",horizontal:"left"},sx:{"& .MuiBadge-badge":{fontSize:"1.3rem",padding:1.5}},color:"primary",badgeContent:"Subtille",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 w-[80vw] border rounded-lg bg-white p-4",children:[(0,t.jsx)(o.Z,{src:b["image".concat(a+1)],sx:{width:100,height:100},children:(0,t.jsx)("input",{className:"h-full w-full opacity-0",onChange:e=>w(e,a),type:"file",name:"",id:""})}),(0,t.jsxs)("div",{className:"flex w-full gap-2 flex-col",children:[(0,t.jsx)(s.Z,{id:"outlined-basic",onChange:e=>k(a,e.target.value),label:"Subtitle",value:h["subheading".concat(a+1)],variant:"outlined"}),(0,t.jsx)(s.Z,{id:"outlined-basic",onChange:e=>S(a,e.target.value),multiline:!0,value:h["subcontent".concat(a+1)],label:"Discription",variant:"outlined"})]})]})},a)),v.numberOfField&&(0,t.jsx)(_,{table:v,Submit:e=>Z(e)}),u.length<5&&(0,t.jsx)(c.Z,{variant:"outlined",onClick:()=>{u.length>4||p(e=>[...e,1])},className:"h-12 w-12 text-xl",children:(0,t.jsx)(E.wEH,{})}),(0,t.jsx)(c.Z,{variant:"outlined",onClick:()=>d(!0),className:"h-12 w-12 text-xl",children:(0,t.jsx)(E.WHV,{})}),(0,t.jsx)(c.Z,{variant:"outlined",className:"submit w-full h-12 text-xl",onClick:y,children:e?(0,t.jsx)(n.Z,{}):"Submit"})]})})]})};let A=e=>{let{open:a,handleClose:l,setTableRow:n}=e,[r,o]=(0,i.useState)(0);return(0,t.jsx)(O,{open:a,onClose:l,children:(0,t.jsxs)(R.Z,{sx:{padding:2,display:"flex",flexDirection:"column",gap:2},children:[(0,t.jsx)("h1",{children:"How many rows you want"}),(0,t.jsx)(s.Z,{sx:{width:"80%"},id:"rows",type:"number",label:"No. of fields",variant:"outlined",value:r,onChange:e=>o(e.target.value),error:!r,helperText:!r&&"Required"}),(0,t.jsx)(c.Z,{onClick:()=>{n(r),l()},variant:"outlined",children:"Set"})]})})},_=e=>{let{table:a,Submit:l}=e,[n,r]=(0,i.useState)({keyhead:"",valuehead:"",fields:Array.from({length:a.numberOfField},()=>({key:"",value:""}))}),o=e=>{let{name:a,value:l}=e.target;r(e=>({...e,[a]:l}))},d=(e,a)=>{let{name:l,value:t}=a.target,i=n.fields.map((a,i)=>i===e?{...a,[l]:t}:a);r(e=>({...e,fields:i}))};return(0,t.jsxs)("div",{className:"bg-white p-3",children:[(0,t.jsxs)("div",{className:"flex mb-4",children:[(0,t.jsx)(s.Z,{id:"outlined-basic",name:"keyhead",label:"Field heading",variant:"outlined",value:n.keyhead,onChange:o}),(0,t.jsx)(s.Z,{id:"outlined-basic",className:"ml-3",name:"valuehead",label:"Value heading",variant:"outlined",value:n.valuehead,onChange:o})]}),n.fields.map((e,a)=>(0,t.jsxs)("div",{className:"flex mb-4",children:[(0,t.jsx)(s.Z,{id:"outlined-basic",name:"key",label:"Field",variant:"outlined",value:e.key,onChange:e=>d(a,e)}),(0,t.jsx)(s.Z,{id:"outlined-basic",className:"ml-3",name:"value",label:"Value",variant:"outlined",value:e.value,onChange:e=>d(a,e)})]},a)),(0,t.jsx)(c.Z,{variant:"contained",color:"primary",onClick:()=>{n.keyhead&&n.valuehead?l(n):alert("fill all the field")},children:"Submit"})]})}}},function(e){e.O(0,[699,64,133,166,270,182,905,971,23,744],function(){return e(e.s=2795)}),_N_E=e.O()}]);